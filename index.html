<html>
    <head>
        <title>COVID-19 en Costa Rica</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

    </head>
    <body style="margin: 0;">
        <div id="bienvenida" style="background-color: rgb(243, 243, 243); width: max-width; display: block; height: 100px; border-bottom: solid darkgray 1px; padding: 10px;">
            <p>COVID-19 en Costa Rica.</p>
            <p>Los datos se obtienen a diario del <a target="_blank" href="https://www.ministeriodesalud.go.cr/index.php/centro-de-prensa/noticias/741-noticias-2020/1532-lineamientos-nacionales-para-la-vigilancia-de-la-infeccion-por-coronavirus-2019-ncov">Ministerio de Salud</a> </p>
            <p><a href="#line-chart">Condici&oacuten y Situaci&oacuten Cl&iacutenica</a> | <a href="#bar-chart">Cantones con m&aacute;s crecimiento</a> |</p>
        </div>
        <div id="main" style="display: block; padding: 10px;">
            <div id="container1" style="width:800px; height:400px; display: block;">
                <canvas id="line-chart" width="800" height="500"></canvas>
                <a href="#bienvenida">Volver</a>
            </div>
            <div id="container1" style="width:800px; height:400px; display: block; margin-top: 150px;">
                <canvas id="bar-chart" width="800" height="500"></canvas>
                <a href="#bienvenida">Volver</a>
            </div>
        </div>
    </body>

    <script>
        new Chart(document.getElementById("line-chart"), {
        type: 'line',
        data: {
            labels: ["Abril 1","Abril 2","Abril 3","Abril 4","Abril 5","Abril 6","Abril 7","Abril 8","Abril 9","Abril 10","Abril 11","Abril 12"],
            datasets: [{ 
                data: [4,6,11,12,16,18,24,29,30,42,49,56],
                label: "Recuperados",
                borderColor: "#8EC3A7",
                fill: false
            }, { 
                data: [4,6,11,12,12,12,11,8,6,7,5,5],
                label: "En sala",
                borderColor: "rgba(255,221,50,1)",
                fill: false
            }, { 
                data: [9,11,13,12,14,14,14,15,13,13,13,14],
                label: "Cuidados Intensivos",
                borderColor: "#c45850",
                fill: false
            }
            ]
        },
        options: {
            title: {
                display: true,
                text: 'Condicion y Situacion Clinica'
            },
            legend:{
                labels:{
                    usePointStyle: true,
              }
            },
            // hover y animation es para mostrar los valores
     /*       
            tooltips:{
                enabled: false
            },*/
            hover: {
                animationDuration: 0
            },
            animation: {
                duration: 0,
                onComplete: function () {
                    var ctx = this.chart.ctx;
                    ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, 'normal', Chart.defaults.global.defaultFontFamily);
                    ctx.fillStyle = this.chart.config.options.defaultFontColor;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'bottom';
                    this.data.datasets.forEach(function (dataset) {
                        for (var i = 1; i < dataset.data.length; i++) {
                                var model = dataset._meta[Object.keys(dataset._meta)[0]].data[i]._model;
                                ctx.fillText(dataset.data[i], model.x, model.y - 5);
                           
                        }
                    });
            }} 
        }
        });
// Grafico 2 --------------------------------
        new Chart(document.getElementById("bar-chart"), {
        type: 'horizontalBar',
        data: {
            labels: ["San JosÃ©","Desamparados","San Carlos","Alajuela", "Curridabat"],
            datasets: [{
                label:"Abril 1",
                backgroundColor:"rgba(255, 206, 86, 0.3)",
                borderColor:"rgba(255, 206, 86)",
                borderWidth:1,
                data: [42, 17, 9,61,12]
            },
            {
                label:"Abril 12",
                backgroundColor:"rgba(54, 162, 235, 0.3)",
                borderColor:"rgba(54, 162, 235)",
                borderWidth:1,
                data: [74, 37, 29,71,22]
                }
            ]
        },
        options:{
            title: {
                display: true,
                text: 'Cantones con mayor crecimiento de Casos Confirmados en Abril'
            },
            scales:{
                xAxes:[{
                    ticks: {
                        max: 80,
                        min: 0,
                        stepSize: 10
                    },
                    type: 'linear',
                    color:"rgb(244, 244, 244,0.5)"
                }],
                yAxes:[{
                    gridLines: {
                        display: true,
                        color:"rgb(244, 244, 244,0.5)"
                    }
                }]
            },
            hover: {
                animationDuration: 0
            },
            animation: {
                duration: 0,
                onComplete: function () {
                    var ctx = this.chart.ctx;
                    ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, 'normal', Chart.defaults.global.defaultFontFamily);
                    ctx.fillStyle = this.chart.config.options.defaultFontColor;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'bottom';
                    this.data.datasets.forEach(function (dataset) {
                        for (var i = 0; i < dataset.data.length; i++) {
                                var model = dataset._meta[Object.keys(dataset._meta)[0]].data[i]._model;
                                ctx.fillText(dataset.data[i], model.x + 10, model.y +5);
                           
                        }
                    });
            }} 
        }
        });
    </script>
 </html>